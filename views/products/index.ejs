<form action="/products" method="GET">
    <h1>Product Search</h1>
    <input type="text" name="q" id="searchInput" placeholder="Search products...">
    <button type="submit">Search</button>

    <label for="range">Distance range (km):</label>
    <input type="range" id="range" name="range" min="1" max="100" value="50"> <!-- Adjust max value as needed -->
    <span id="rangeValue">50</span> km
</form>




<style>
    /* Always set the map height explicitly to define the size of the div
        * element that contains the map. */
    #map {
        height: 300px;
    }

    /* Optional: Makes the sample page fill the window. */
    html,
    body {
        height: 100%;
        margin: 0;
        padding: 0;
    }
</style>

<div>
    <input type="text" id="addressInput" placeholder="Enter an address">
    <button onclick="geocodeAddress()">Geocode</button>
</div>
<div id="map"></div>


<script src="/js/mapLogic.js"></script>

<script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAxJvrodMZmejSbwGnMpnrICC36ZSGlqW8&callback=initMap"></script>


<% if (products.length===0) { %>
    <p>No products available.</p>
    <% } else { %>
        <ul>
            <% products.forEach(product=> { %>
                <li>
                    <h2>
                        <%= product.name %>
                    </h2>
                    <p>Description: <%= product.description %>
                    </p>
                    <p>Price: <%= product.price %>
                    </p>
                    <!-- can delete when i fix the data -->
                    <% if (product.userId && product.userId.username){%>
                        <p>User: <%= product.userId.username %>
                        </p>
                        <%}%>
                            <!-- Display images for the product -->
                            <img src="<%= product.images[0]%>">
                </li>
                <% }) %>
        </ul>
        <% } %>